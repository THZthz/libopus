<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Emscripten-Generated Code</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        html,body{
            height:100%;
            width:100%;
        }
        canvas{
            display:block;
        }
    </style>
</head>
<body>
<canvas style="border: 1px solid #bf3030" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
<div id="output"></div>
<script type='text/javascript'>

    var Module = {
        preRun: [],
        postRun: [],
        print: (function () {
            return function (text) {
                console.log(text);
                let history = document.getElementById("output").innerHTML.split("<br>");
                let html = "";
                if (history.length > 100) {
                    history = history.slice(1);
                    history.push(text);
                    html = history.join("<br>");
                } else {
                    html = document.getElementById("output").innerHTML + "<br>" + text;
                }
                document.getElementById("output").innerHTML = html;
            };
        })(),
        canvas: (function () {
            var canvas = document.getElementById('canvas');

            // As a default initial behavior, pop up an alert when webgl context is lost. To make your
            // application robust, you may want to override this behavior before shipping!
            // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
            canvas.addEventListener("webglcontextlost", function (e) {
                alert('WebGL floyd_context lost. You will need to reload the page.');
                e.preventDefault();
            }, false);

            return canvas;
        })(),
    };
</script>
{{{ SCRIPT }}}
</body>
</html>
